'use client';

import React, { useState } from 'react';
import Image from 'next/image';
import { ServiceCard } from '../components/ServiceCard';
import { ServiceModal } from '../components/ServiceModal';
import { PricingCard } from '../components/PricingCard';
import { ContactForm } from '../components/ContactForm';
import { CurrencySelector, type Currency } from '../components/CurrencySelector';
import { services, ServiceId } from '@/types/services';

export default function Home() {
  const [currentModal, setCurrentModal] = useState<ServiceId | null>(null);
  const [currency, setCurrency] = useState<Currency>('RUB');
  const [usdRate, setUsdRate] = useState<number>(90);
  const [showContactForm, setShowContactForm] = useState(false);

  const openModal = (id: ServiceId) => {
    setCurrentModal(id);
  };

  const closeModal = () => {
    setCurrentModal(null);
  };

  return (
    <div className="min-h-screen flex flex-col bg-[#0A0A0A]">
      <header className="fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-md border-b border-white/10">
        <nav className="max-w-7xl mx-auto px-6 md:px-12 lg:px-24 py-4 flex justify-between items-center">
          <div className="flex items-center gap-2">
            <Image src="/logo-white.svg" alt="Logo" width={32} height={32} />
            <span className="text-xl font-bold text-white">Semantica</span>
          </div>

          <div className="hidden md:flex space-x-8 items-center">
            <a href="#features" className="text-gray-300 hover:text-primary transition-colors">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a>
            <a href="#services" className="text-gray-300 hover:text-primary transition-colors">–£—Å–ª—É–≥–∏</a>
            <a href="#pricing" className="text-gray-300 hover:text-primary transition-colors">–¶–µ–Ω—ã</a>
            <CurrencySelector
              currency={currency}
              onCurrencyChange={setCurrency}
            />
            <button
              onClick={() => setShowContactForm(true)}
              className="btn btn-primary animate-pulse-glow"
            >
              –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
            </button>
          </div>

          <button className="md:hidden text-white">
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </nav>
      </header>

      <main className="flex-grow">
        {/* Hero Section */}
        <section className="min-h-screen pt-32 px-6 md:px-12 lg:px-24 gradient-bg">
          <div className="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center">
            <div className="max-w-2xl space-y-6">
              <h1 className="text-4xl md:text-5xl font-bold">
                –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º –≤–∞—à –±–∏–∑–Ω–µ—Å –∑–∞ 7 –¥–Ω–µ–π ‚Äî –±–µ–∑ –∫–æ–¥–∞ –∏ –ª–∏—à–Ω–µ–π –±—é—Ä–æ–∫—Ä–∞—Ç–∏–∏
              </h1>
              <p className="text-xl text-gray-400">
              –°–æ–∑–¥–∞—ë–º —Å–∞–π—Ç—ã, —á–∞—Ç-–±–æ—Ç–æ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø–æ–¥ –∫–ª—é—á —Å –ø–æ–º–æ—â—å—é –ò–ò –∏ no-code.
                –£–≤–µ–ª–∏—á—å—Ç–µ –ø—Ä–æ–¥–∞–∂–∏ –∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç–µ –≤—Ä–µ–º—è —É–∂–µ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ.
              </p>
              <div className="pt-4">
                <button
                  onClick={() => setShowContactForm(true)}
                  className="btn btn-primary"
                >
                  –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∑–∞ 7 –¥–Ω–µ–π
                </button>
              </div>
            </div>

            <div className="relative w-full aspect-square max-w-lg mx-auto">
              <Image
                src="/hero-image.svg"
                alt="Hero illustration"
                fill
                className="object-contain"
                priority
              />
              <div className="absolute bottom-0 left-0 right-0 flex justify-center gap-4 p-4">
                <div className="w-20 h-10 relative">
                  <Image 
                    src="/brands/autodesk.svg" 
                    alt="Autodesk" 
                    fill 
                    className="object-contain opacity-50 hover:opacity-100 transition-opacity" 
                  />
                </div>
                <div className="w-20 h-10 relative">
                  <Image 
                    src="/brands/intuit.svg" 
                    alt="Intuit" 
                    fill 
                    className="object-contain opacity-50 hover:opacity-100 transition-opacity" 
                  />
                </div>
                <div className="w-20 h-10 relative">
                  <Image 
                    src="/brands/walmart.svg" 
                    alt="Walmart" 
                    fill 
                    className="object-contain opacity-50 hover:opacity-100 transition-opacity" 
                  />
                </div>
                <div className="w-20 h-10 relative">
                  <Image 
                    src="/brands/zoom.svg" 
                    alt="Zoom" 
                    fill 
                    className="object-contain opacity-50 hover:opacity-100 transition-opacity" 
                  />
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è */}
        <section className="py-20 bg-[#1A1A1A]">
          <div className="container mx-auto px-4">
            <div className="text-center mb-16">
              <h2 className="text-4xl font-bold mb-4">–ù–∞—à–∏ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è</h2>
              <p className="text-xl text-gray-400">–í—Å–µ —É—Å–ª—É–≥–∏ ‚Äî –±–µ–∑ –∫–æ–¥–∞, –±—ã—Å—Ç—Ä–æ –∏ —Å —É–ø–æ—Ä–æ–º –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>
            </div>
            
            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
              {/* –°–∞–π—Ç—ã –ø–æ–¥ –∫–ª—é—á */}
              <div className="bg-[#2A2A2A] rounded-2xl p-8 hover:bg-[#333] transition-colors duration-300">
                <h3 className="text-2xl font-semibold mb-6">üîπ –°–∞–π—Ç—ã –ø–æ–¥ –∫–ª—é—á</h3>
                <ul className="space-y-4 text-gray-300">
                  <li className="flex items-start">
                    <span className="text-primary mr-2">‚Ä¢</span>
                    –í–∏–∑–∏—Ç–∫–∏, –ª–µ–Ω–¥–∏–Ω–≥–∏, –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∏–∫–∏
                  </li>
                  <li className="flex items-start">
                    <span className="text-primary mr-2">‚Ä¢</span>
                    CRM, –æ–ø–ª–∞—Ç–∞, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
                  </li>
                  <li className="flex items-start">
                    <span className="text-primary mr-2">‚Ä¢</span>
                    –ì–æ—Ç–æ–≤–æ –∑–∞ 7 –¥–Ω–µ–π
                  </li>
                </ul>
              </div>

              {/* –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è */}
              <div className="bg-[#2A2A2A] rounded-2xl p-8 hover:bg-[#333] transition-colors duration-300">
                <h3 className="text-2xl font-semibold mb-6">üîπ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</h3>
                <ul className="space-y-4 text-gray-300">
                  <li className="flex items-start">
                    <span className="text-primary mr-2">‚Ä¢</span>
                    –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥
                  </li>
                  <li className="flex items-start">
                    <span className="text-primary mr-2">‚Ä¢</span>
                    –ë–æ—Ç—ã, —Ä–∞—Å—Å—ã–ª–∫–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
                  </li>
                  <li className="flex items-start">
                    <span className="text-primary mr-2">‚Ä¢</span>
                    AI + no-code –±–µ–∑ –ª–∏—à–Ω–µ–π —Ä—É—Ç–∏–Ω—ã
                  </li>
                </ul>
              </div>

              {/* –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ */}
              <div className="bg-[#2A2A2A] rounded-2xl p-8 hover:bg-[#333] transition-colors duration-300">
                <h3 className="text-2xl font-semibold mb-6">üîπ –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</h3>
                <ul className="space-y-4 text-gray-300">
                  <li className="flex items-start">
                    <span className="text-primary mr-2">‚Ä¢</span>
                    AI-—Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏, –∞–≤–∞—Ç–∞—Ä—ã
                  </li>
                  <li className="flex items-start">
                    <span className="text-primary mr-2">‚Ä¢</span>
                    –°–æ—Ü—Å–µ—Ç–∏ –∏ –±–∞–Ω–Ω–µ—Ä—ã
                  </li>
                  <li className="flex items-start">
                    <span className="text-primary mr-2">‚Ä¢</span>
                    –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –ø–æ–¥ –≤–∞—à –±—Ä–µ–Ω–¥
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        {/* Services Section */}
        <section id="services" className="py-20">
          <div className="max-w-7xl mx-auto px-6 md:px-12 lg:px-24">
            <h2 className="text-4xl font-bold text-center mb-12">
              –ù–∞—à–∏ —É—Å–ª—É–≥–∏
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
              {Object.entries(services).map(([id, service]) => (
                <ServiceCard
                  key={id}
                  service={service}
                  onClick={() => openModal(id as ServiceId)}
                  currency={currency}
                  usdRate={usdRate}
                />
              ))}
            </div>
          </div>
        </section>

        {/* Process Section */}
        <section className="py-20">
          <div className="max-w-7xl mx-auto px-6 md:px-12 lg:px-24">
            <h2 className="text-4xl font-bold text-center mb-12">
              –ö–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
              <div className="text-center">
                <div className="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
                  <span className="text-2xl font-bold">1</span>
                </div>
                <h3 className="text-xl font-semibold mb-2">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</h3>
                <p className="text-gray-400">–û–±—Å—É–∂–¥–∞–µ–º –≤–∞—à–∏ —Ü–µ–ª–∏ –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏</p>
              </div>
              <div className="text-center">
                <div className="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
                  <span className="text-2xl font-bold">2</span>
                </div>
                <h3 className="text-xl font-semibold mb-2">–ê–Ω–∞–ª–∏–∑</h3>
                <p className="text-gray-400">–ò–∑—É—á–∞–µ–º –≤–∞—à –±–∏–∑–Ω–µ—Å –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</p>
              </div>
              <div className="text-center">
                <div className="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
                  <span className="text-2xl font-bold">3</span>
                </div>
                <h3 className="text-xl font-semibold mb-2">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</h3>
                <p className="text-gray-400">–°–æ–∑–¥–∞–µ–º —Ä–µ—à–µ–Ω–∏–µ –ø–æ–¥ –≤–∞—à–∏ –∑–∞–¥–∞—á–∏</p>
              </div>
              <div className="text-center">
                <div className="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
                  <span className="text-2xl font-bold">4</span>
                </div>
                <h3 className="text-xl font-semibold mb-2">–ó–∞–ø—É—Å–∫</h3>
                <p className="text-gray-400">–í–Ω–µ–¥—Ä—è–µ–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ä–µ—à–µ–Ω–∏–µ</p>
              </div>
            </div>
          </div>
        </section>
      </main>

      {/* Telegram Button */}
      <a
        href="https://t.me/Nikolai_Perepichko"
        target="_blank"
        rel="noopener noreferrer"
        className="fixed bottom-6 right-6 bg-[#0088cc] hover:bg-[#0099dd] text-white rounded-full p-4 shadow-lg transition-all duration-300 z-50"
      >
        <svg
          className="w-6 h-6"
          fill="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.11.02-1.93 1.23-5.46 3.62-.52.36-.99.53-1.41.52-.46-.01-1.35-.26-2.01-.48-.81-.27-1.46-.42-1.4-.88.03-.24.37-.49 1.03-.74 4.04-1.76 6.73-2.92 8.07-3.48 3.84-1.61 4.64-1.89 5.17-1.9.11 0 .37.03.54.17.14.12.18.28.2.45-.02.14-.01.3-.02.43z"/>
        </svg>
      </a>

      {currentModal && (
        <ServiceModal
          service={services[currentModal]}
          onClose={closeModal}
          currency={currency}
          usdRate={usdRate}
        />
      )}
      
      {showContactForm && (
        <ContactForm onClose={() => setShowContactForm(false)} />
      )}
    </div>
  );
}